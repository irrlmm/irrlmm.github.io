---
import MainLayout from "../layouts/MainLayout.astro";
import { getCollection } from "astro:content";
import PostsList from "../components/Posts/PostsList.astro";
import Launchpad from "../components/Launchpad.astro";
import FactStack from "../components/FactStack";
import Belt from "../components/Belt";
import Hero from "../components/Hero.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import TestStack from "../components/TestStack";
import { TEST_COLLABORATOR_TYPE } from "../consts/tests/collaboratorType";
import { FACTS_INTRO } from "../consts/facts/introFacts";
import {
  SVG_ARROW,
  SVG_CHECK,
  SVG_CHECKLIST,
  SVG_CV,
  SVG_DEFAULT,
  SVG_DRIBBBLE,
  SVG_GOAL_MATCH,
  SVG_KEY,
  SVG_MAIL,
  SVG_SWIPE,
} from "../consts/svg";

const posts = (await getCollection("work")).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf()
);

if (!posts) {
  throw Error("no posts!");
}
---

<MainLayout>
  <article class="col align-start">
    <Header />

    <Hero />

    <section>
      <FactStack client:load facts={FACTS_INTRO} />
    </section>

    <Belt client:load text="Available for product design roles" />

    <Launchpad
      apps={[
        {
          label: "Workplace",
          link: { href: "https://app.imusician.pro", external: true },
          widgetWorkplace: {
            company: "imusician",
            lines: ["7+ yrs", "Senior Product Designer", "ex UI Engineer"],
          },
          badge: "Bye-bye",
        },
        {
          label: "Latest work",
          link: {
            href: "https://www.behance.net/gallery/223450275/Instant-Mastering-Instant-Remake",
            external: true,
          },
          widgetImage: "/src/assets/ishigs/cover.png",
        },
        {
          label: "CV",
          link: { href: "/docs/Igor Lemeshkin CV.pdf", external: true },
          icon: { path: SVG_DEFAULT },
        },
        {
          label: "LinkedIn",
          link: { href: "https://www.linkedin.com/in/irrlmm", external: true },
          icon: { path: SVG_DEFAULT },
        },
        {
          label: "Concepts",
          link: { href: "https://www.dribbble.com/irrlmm", external: true },
          icon: { path: SVG_DRIBBBLE },
        },
        {
          label: "Contact me",
          link: { href: "mailto:igorlem@icloud.com" },
          icon: { path: SVG_MAIL },
          badge: "!!!",
        },
        {
          label: "Rogi",
          link: { href: "/undefined" },
          icon: { path: SVG_KEY },
          badge: "???",
          // pos: "2 / 1 / span 3 / span 3",
        },
        // {
        //   label: "Theme",
        //   widgetTheme: true,
        // },
      ]}
    />

    <!-- <section>
      <ResumeOverview
        values={[
          { label: "Experience", value: "8+ years" },
          {
            label: "Works at",
            value: "iMusician",
            href: "https://imusician.pro",
          },
          {
            label: "Lore",
            value: "/undefined",
            href: "/undefined",
            internal: true,
          },
          {
            label: "LinkedIn",
            value: "Igor L.",
            href: "https://www.linkedin.com/in/irrlmm",
          },
          {
            label: "Dribbble",
            value: "irrlmm",
            href: "https://www.dribbble.com/irrlmm",
          },
          {
            label: "Email",
            value: "igorlem@icloud.com",
            href: "mailto:igorlem@icloud.com",
          },
        ]}
      />
    </section> -->

    <!-- <PostsList posts={posts} /> -->

    <!-- <Belt client:load text="This page is not just about Igor" /> -->

    <Belt client:load text="The work is mysterious and important" />

    <!-- <section>
      <TestStack client:load test={TEST_COLLABORATOR_TYPE} />
    </section> -->

    <section>
      <FactStack
        client:load
        facts={[
          {
            id: "intro",
            icon: SVG_SWIPE,
            text: "This is a stack of core design principles I stand by.",
          },
          {
            id: "p1-a",
            icon: SVG_GOAL_MATCH,
            text: "1. Try making impact using minimum resources.",
          },
          {
            id: "p1-b",
            text: "Solve one problem at a time. Write less code. Don't sit on single idea for too long. Use only necessary tools.",
          },
          {
            id: "p2-a",
            icon: SVG_ARROW,
            text: "2. Become the user of a product you are designing.",
          },
          {
            id: "p2-b",
            icon: SVG_DEFAULT,
            text: "[WIP] More soon.",
          },
        ]}
      />
    </section>

    <Footer />
  </article>
</MainLayout>

<style>
  article {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--unit-2xl) 0;
    gap: var(--unit-2xl);
  }

  p {
    vertical-align: middle;
  }

  section {
    display: flex;
    width: 100%;
    max-width: calc(var(--unit-m) * 22);
    padding: 0 var(--unit-m);
  }

  section.wide {
    max-width: initial;
    padding: 0;
  }
</style>
