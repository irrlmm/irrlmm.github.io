---
import MainLayout from "../layouts/MainLayout.astro";

import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";

import RELEASE_NOTES from "../consts/release-notes";
---

<MainLayout>
  <article class="col">
    <Header />

    <section>
      <h1>Changelog</h1>
    </section>

    <section>
      <ul class="col gap-2xl">
        {
          RELEASE_NOTES.map((releaseNote, i) => (
            <li class="col gap-s">
              <div class="col gap-3xs">
                <span>
                  v{releaseNote.version}
                  {i === 0 ? " â€¢ Current" : null}
                </span>

                <h2>{releaseNote.title}</h2>
              </div>

              <p>{releaseNote.text}</p>
            </li>
          ))
        }
      </ul>
    </section>

    <Footer />
  </article>
</MainLayout>

<style>
  article {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--unit-2xl) 0;
    gap: var(--unit-2xl);
  }

  h1 {
    font-size: var(--unit-l);
    line-height: 1;
  }

  section {
    display: flex;
    width: 100%;
    max-width: calc(var(--unit-m) * 22);
    padding: 0 var(--unit-m);
  }

  ul {
  }

  li {
    position: relative;
  }

  h2 {
    font-size: var(--unit-m);
  }

  li span {
    font-size: var(--unit-s);
    align-self: flex-start;
    background-color: var(--on-surface);
    color: var(--background);
  }

  li p {
    text-wrap: balance;
    font-size: var(--unit-s);
  }
</style>
