---
interface Props {
  isDashed?: boolean;
  isSurface?: boolean;
}

const { isDashed, isSurface, ...rest } = Astro.props;
---

<div
  role="separator"
  class:list={[
    "row align-center gap-32",
    isDashed && "dashed",
    isSurface && "surface",
  ]}
>
  {
    isSurface && (
      <svg
        class="separator-decor-left"
        width="18"
        height="64"
        viewBox="0 0 18 64"
        xmlns="http://www.w3.org/2000/svg"
        fill="var(--background)"
      >
        <path d="M2 64H0V0H2C2 6.24951 6.34326 11.6235 10.5776 16.8633C12.3306 19.0322 14.0649 21.1782 15.4648 23.3535C17.0693 25.8472 18 28.8149 18 32C18 35.1851 17.0693 38.1528 15.4648 40.6465C14.0649 42.8218 12.3306 44.9678 10.5776 47.1367C6.34326 52.3765 2 57.7505 2 64Z" />
      </svg>
    )
  }

  <svg
    class:list={["separator-main", isDashed && "dashed"]}
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 520 4"
    width="520"
    height="4"
    preserveAspectRatio="none"
    {...rest}
  >
    <path d="M0 2 L 520 2" vector-effect="non-scaling-stroke"></path>
  </svg>

  {
    isSurface && (
      <svg
        class="separator-decor-right"
        width="18"
        height="64"
        viewBox="0 0 18 64"
        xmlns="http://www.w3.org/2000/svg"
        fill="var(--background)"
      >
        <path d="M16 64H18V0H16C16 6.24951 11.6567 11.6235 7.42236 16.8633C5.66943 19.0322 3.93506 21.1782 2.53516 23.3535C0.930664 25.8472 0 28.8149 0 32C0 35.1851 0.930664 38.1528 2.53516 40.6465C3.93506 42.8218 5.66943 44.9678 7.42236 47.1367C11.6567 52.3765 16 57.7505 16 64Z" />
      </svg>
    )
  }
</div>

<style>
  @keyframes move-ltr {
    0% {
      transform: translateX(-18px);
    }
    100% {
      transform: translateX(0px);
    }
  }

  @keyframes move-rtl {
    0% {
      transform: translateX(18px);
    }
    100% {
      transform: translateX(0px);
    }
  }

  div {
    display: flex;
    justify-content: center;
    animation: appear 0.33s var(--bezier) both;
    animation-delay: 0.4s;
  }

  svg.separator-main {
    width: 100%;
    stroke: var(--outline);
    stroke-width: 1px;
    transition: stroke 0.2s var(--bezier);
  }

  div.dashed svg.separator-main {
    stroke-dasharray: 4px;
    max-width: 50%;
  }

  .separator-decor-left,
  .separator-decor-right {
    position: absolute;
  }
  .separator-decor-left {
    left: -2px;
    position: absolute;
    animation: move-ltr 0.33s var(--bezier) 0.4s both;
  }
  .separator-decor-right {
    right: -2px;
    position: absolute;
    animation: move-rtl 0.33s var(--bezier) 0.4s both;
  }
</style>
