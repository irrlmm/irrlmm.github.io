---

---

<button id="font-toggle">Aa</button>

<style>
  button {
    position: relative;
    display: inline-flex;
    padding: 0;
    margin: 0;
    width: 40px;
    height: 40px;
    border: none;
    transition: all 0.2s var(--bezier);
    cursor: pointer;
  }

  button svg {
    display: none;
  }

  html[data-font="byte"] svg[data-font="byte"] {
    display: initial;
  }
</style>

<script is:inline>
  (function () {
    // Apply the font by setting a data attribute on <html>
    function applyFont(font) {
      document.documentElement.setAttribute("data-font", font);
      console.log(`Font set to: ${font}`);
    }

    // Update font based on stored preference
    function updateFont() {
      const font = localStorage.getItem("font") || "mono";
      applyFont(font);
    }

    // Initial theme setup
    updateFont();

    // Font toggle listener cycles through: mono -> byte -> sans
    const toggleButton = document.getElementById("font-toggle");
    if (toggleButton) {
      toggleButton.addEventListener("click", function () {
        const current = localStorage.getItem("font") || "auto";
        let next;
        // Cycle order: auto => dark => light => auto
        if (current === "mono") {
          next = "byte";
        } else if (current === "byte") {
          next = "sans";
        } else {
          next = "mono";
        }
        localStorage.setItem("font", next);
        updateFont();
      });
    }
  })();
</script>
